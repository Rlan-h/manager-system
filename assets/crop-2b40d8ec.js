import{j as b,H as t,M as k,k as I,l as w,v as l,x as C,m as f,D as j,A as B,q as E,af as R,ag as S,ah as Y}from"./index-80719af3.js";import{E as M}from"./el-button-1f086a43.js";const N=s=>(R("data-v-2dea274d"),s=s(),S(),s),U={class:"flex h-auto gap-x-3"},V={class:"flex flex-col justify-start gap-y-2"},X=["src"],$=N(()=>l("div",{class:"flex"},[l("div",{class:"w-32 h-32"},[l("img",{src:"https://im.gurl.eu.org/file/01ab6001cad8c07afba5c.jpg"})])],-1)),z=b({__name:"crop",setup(s){const c=t(),o=t(),r=t(""),m=t(),n=t(1);let d=t(0),u=t(0),i=t(0),p=t(0),v=t(0),_=t(0);const y=()=>{c.value.click()},h=e=>{console.log(e),e.deltaY>0?n.value-=.01:(n.value+=.01,console.log("鼠标向上滚动，图片放大"))};return k(()=>{c.value.onchange=e=>{const g=URL.createObjectURL(e.target.files[0]);r.value=g,console.dir(o.value);const a=document.createElement("canvas"),x=a.getContext("2d");a.width=200,a.height=200,a.style.position="absolute",a.style.top="50%",a.style.left="50%",a.style.transform="translate(-50%, -50%)",a.style.border="1px solid #eee",a.style.backgroundColor="rgba(255,255,255,0.5)",o.value.appendChild(a),console.log(x)},o.value.ondragstart=e=>{d.value=e.layerX,u.value=e.layerY},o.value.ondragover=e=>{console.log(e)},o.value.ondragend=e=>{console.log(e),i.value=e.layerX,p.value=e.layerY,v.value=i.value-d.value,_.value=p.value-u.value}}),(e,g)=>{const a=M;return I(),w("div",U,[l("input",{ref_key:"inputRef",ref:c,type:"file",class:"opacity-0 absolute"},null,512),l("div",V,[l("div",{ref_key:"image",ref:o,class:"image w-96 h-96 bg-gray-500 overflow-hidden relative",onMousewheel:h},[l("img",{src:r.value,ref_key:"oImg",ref:m,style:C({transform:`scale(${n.value}) translateX(${f(v)}px) translateY(${f(_)}px)`})},null,12,X)],544),j(a,{type:"primary",size:"large",onClick:y},{default:B(()=>[E("选择图片")]),_:1})]),$])}}});const q=Y(z,[["__scopeId","data-v-2dea274d"]]);export{q as default};
